<!doctype html>
<html>
  <head>
    <% include ../partials/header.ejs %>
  </head>
  <body>
    <div class="container">
      <div class="page-header">
        <h1>SPV 2017 8<sup>th</sup> Grade Grad Party Survey</h1>
      </div>
      <p>Greetings 8<sup>th</sup>Grade Parents,</p>
      <p>Where did the time go!!!?  It seems like it was just yesterday that we were bringing our children to their kindergarten class, meeting each other for the first time and hanging around the classroom far longer than we should.  Some students were crying, some were running around 100 miles an hour and others seemed lost.</p>
      <p>Now, here we are, their last year in Pius, as the upper classmen and the older, resposible children leading the rest of the Pius students, parents wishing that their 8<sup>th</sup> graders don't get too old too fast in high school.</p>
      <p>By the time you know it, it's graduation time and that's the reason why we wanted to start early for the graduation party.</p>
      <p>Looking at the SPV calendar for this coming school year, the actual graduation ceremony is on May 26, 2017 at 10:00am.  This happens to be Memorial Day weekend which means we need to start looking for event venues and reserving it early.</p>
      <p>In order to get a feel of what the parents' expectations are, some parents have started discussing what we need to have a successful Grad Party.  One of the first steps is to get some information from the parents.  We are sending this online survey.  Please respod as soon as you can.  Everyone's input is important.  Our decisions will be based on majority votes.</p>
      <p>Thank you,<br>Bernadette Baclig<br>(Excited 8<sup>th</sup> Grade Parent - Samie's Mom)</p>
    </div>
    <div class="container">
      <form>
        <p>Please note: All questions are for the Graduation Party.</p>
        <div class="form-group">
          <label>The graduation ceremony is on Friday May 26, 2017 @ 10am in SPV. What date/time do you want to have the party? (Select one)</label>
          <div class="radio">
            <label>
              <input id="q1-a" type="radio" name="q1-group" value="a">
              Lunch on Friday May 26, 2017 (after the ceremony around 1pm)
            </label>
          </div>
          <div class="radio">
            <label>
              <input id="q1-b" type="radio" name="q1-group" value="b">
              Dinner on Friday May 26, 2017
            </label>
          </div>
          <div class="radio">
            <label>
              <input id="q1-c" type="radio" name="q1-group" value="c">
              Dinner on Saturday May 27, 2017
            </label>
          </div>
        </div>
        <div class="form-group">
          <label>How much are you willing to pay per person? (Select One)</label>
          <div class="radio">
            <label>
              <input id="q2-a" type="radio" name="q2-group" value="a">
              $15 - $25
            </label>
          </div>
          <div class="radio">
            <label>
              <input id="q2-b" type="radio" name="q2-group" value="b">
              $25 - $50
            </label>
          </div>
        </div>
        <div class="form-group">
          <label>Who would you like to bring/invite to the party? (Select one or more)</label>
          <div class="checkbox">
            <label>
              <input id="q3-a" type="checkbox" name="q3-group" value="a">
              Spouse
            </label>
          </div>
          <div class="checkbox">
            <label>
              <input id="q3-b" type="checkbox" name="q3-group" value="b">
              8<sup>th</sup> Grader's sibling
            </label>
          </div>
          <div class="checkbox">
            <label>
              <input id="q3-c" type="checkbox" name="q3-group" value="c">
              Grandparents
            </label>
          </div>
          <div class="checkbox">
            <label>
              <input id="q3-d" type="checkbox" name="q3-group" value="d">
              Others
            </label>
          </div>
        </div>
        <div class="form-group">
          <label>How many people are you inviting? (Select one)</label>
          <div class="radio">
            <label>
              <input id="q4-a" type="radio" name="q4-group" value="a">
              1 - 5 people
            </label>
          </div>
          <div class="radio">
            <label>
              <input id="q4-b" type="radio" name="q4-group" value="b">
              6 - 10 people
            </label>
          </div>
          <div class="radio">
            <label>
              <input id="q4-c" type="radio" name="q4-group" value="c">
              More than 10 people
            </label>
          </div>
        </div>
        <div class="form-group">
          <label>Are you willing to volunteer or donate? (Select one or more)</label>
          <div class="checkbox">
            <label>
              <input id="q5-a" type="checkbox" name="q5-group" value="a">
              Decorate
            </label>
          </div>
          <div class="checkbox">
            <label>
              <input id="q5-b" type="checkbox" name="q5-group" value="b">
              DJ
            </label>
          </div>
          <div class="checkbox">
            <label>
              <input id="q5-c" type="checkbox" name="q5-group" value="c">
              Photo Booth
            </label>
          </div>
          <div class="checkbox">
            <label>
              <input id="q5-d" type="checkbox" name="q5-group" value="d">
              <input type="text" id="q5-other-text" placeholder="Other">
            </label>
          </div>
        </div>
        <div class="form-group">
          <label>Do you have a recommendation for the venue?</label>
          <input type="text" id="q6-venue" class="form-control" placeholder="Venue Name">
          <br>
          <input type="text" id="q6-address" class="form-control" placeholder= "Venue Address/Website">
        </div>
        <button id="survey-submit" type="submit" class="btn btn-default">Submit</button>
      </form>
    </div>

    <script>
      $('#survey-submit').on('click',submitSurvey);

      function submitSurvey(event){
        event.preventDefault();

        var q3answers = [];
        $('input[name="q3-group"]:checked').each(function(){
          q3answers.push($(this).attr('value'));
        });

        var q5answers = [];
        $('input[name="q5-group"]:checked').each(function(){
          q5answers.push($(this).attr('value'));
        });

        var q5other;
        if($('#q5-d').is(':checked')) {
          q5other = $('#q5-other-text').val();
        }

        var q6answers = [];
        var q6venue = $('#q6-venue').val(), q6address = $('#q6-address').val();
        if(q6venue){
          q6answers.push(q6venue);
        }
        if(q6address){
          q6answers.push(q6address);
        }

        var answers = JSON.stringify({
          q1: $('input[name="q1-group"]:checked').val(),
          q2: $('input[name="q2-group"]:checked').val(),
          q3: q3answers,
          q4: $('input[name="q4-group"]:checked').val(),
          q5: q5answers,
          q5O: q5other,
          q6: q6answers
        });

        //console.log(answers);

        $.ajax({
          type: 'POST',
          data: answers,
          url:'/',
          dataType: 'JSON',
          contentType: 'application/json'
        }).done(function(data){
          console.log(data);
        }).fail(function(xhr,textStatus,errorThrown){
          alert(errorThrown + xhr.responseText);
        });
      };
    </script>
  </body>

</html>
